{"version":3,"sources":["contex/seatContext.js","components/SelectList.js","components/Seat.js","components/Help.js","components/Screen.js","components/Seats.js","components/Total.js","App.js","contex/types.js","contex/seatReducer.js","contex/SeatState.js","index.js"],"names":["seatContext","createContext","SelectList","useContext","SeatContext","movies","saveMovie","getData","selectedMovie","useEffect","selectValue","undefined","index","name","className","value","onChange","e","savedMovie","target","selectedIndex","price","map","movie","data-price","id","Seat","occupeid","selected","onclick","classes","push","join","data-id","onClick","Help","Screen","Seats","seats","addSeat","removeSeat","getSeatsId","seatsNum","JSON","parse","localStorage","getItem","onclickHandel","useCallback","classList","contains","remove","dataset","add","occupeidfunc","i","j","selectedfunc","Set","row","column","Total","seatsId","length","App","ADD_SEAT","REMOVE_SEAT","GET_DATA","seatReducer","state","action","type","updateSeatsId","payload","setItem","stringify","updatedseatsId","filterdSeatsId","filter","item","getSelectedMovie","SeatState","children","useReducer","dispatch","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a89ffd19.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst seatContext = createContext();\r\n\r\nexport default seatContext;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport SeatContext from '../contex/seatContext';\r\n\r\nconst SelectList = () => {\r\n  const { movies, saveMovie, getData, selectedMovie } = useContext(SeatContext);\r\n  useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const handleChange = (e) => {\r\n    const savedMovie = {\r\n      index: e.target.selectedIndex,\r\n      price: movies[e.target.selectedIndex].price,\r\n    };\r\n    saveMovie(savedMovie);\r\n    getData();\r\n  };\r\n  let selectValue;\r\n  if (selectedMovie !== null && movies[selectedMovie.index] !== undefined) {\r\n    selectValue = movies[selectedMovie.index].name;\r\n  } else {\r\n    selectValue = movies[0].name;\r\n  }\r\n\r\n  return (\r\n    <div className='movie-container'>\r\n      <label>Pick a movie: </label>\r\n      <select value={selectValue} onChange={handleChange}>\r\n        {movies.map((movie) => (\r\n          <option key={movie.id} value={movie.name} data-price={movie.price}>\r\n            {movie.name} (${movie.price})\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectList;\r\n","import React from 'react';\r\n\r\nconst Seat = ({ id, occupeid, selected, onclick }) => {\r\n  const classes = ['seat'];\r\n  if (occupeid) {\r\n    classes.push('occupeid');\r\n  } else if (selected) {\r\n    classes.push('selected');\r\n  }\r\n\r\n  return (\r\n    <div className={classes.join(' ')} data-id={id} onClick={onclick}></div>\r\n  );\r\n};\r\n\r\nexport default Seat;\r\n","import React from 'react';\r\nimport Seat from './Seat';\r\n\r\nconst Help = () => {\r\n  return (\r\n    <ul className='showcase'>\r\n      <li>\r\n        <Seat />\r\n        <small>N/A</small>\r\n      </li>\r\n      <li>\r\n        <Seat selected />\r\n        <small>Selected</small>\r\n      </li>\r\n      <li>\r\n        <Seat occupeid />\r\n        <small>Occupeid</small>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Help;\r\n","import React from 'react';\r\n\r\nconst Screen = () => {\r\n  return <div className='screen'></div>;\r\n};\r\n\r\nexport default Screen;\r\n","import React, { useContext, useCallback } from 'react';\r\nimport Seat from './Seat';\r\nimport SeatContext from '../contex/seatContext';\r\n\r\nconst Seats = () => {\r\n  const seats = [];\r\n  const row = 6;\r\n  const column = 8;\r\n  let { addSeat, removeSeat, seatsNum } = useContext(SeatContext);\r\n  const getSeatsId = JSON.parse(localStorage.getItem('seatsId'));\r\n\r\n  const onclickHandel = useCallback(\r\n    (e) => {\r\n      if (\r\n        e.target.classList.contains('selected') &&\r\n        !e.target.classList.contains('occupeid')\r\n      ) {\r\n        e.target.classList.remove('selected');\r\n        removeSeat(e.target.dataset.id);\r\n      } else if (\r\n        !e.target.classList.contains('selected') &&\r\n        !e.target.classList.contains('occupeid')\r\n      ) {\r\n        e.target.classList.add('selected');\r\n        addSeat(e.target.dataset.id);\r\n      }\r\n    },\r\n    [addSeat, removeSeat]\r\n  );\r\n\r\n  const occupeidfunc = (i, j) => {\r\n    if (i === 1 && j === 2) {\r\n      return true;\r\n    } else if (i === 1 && j === 3) {\r\n      return true;\r\n    } else if (i === 2 && j === 0) {\r\n      return true;\r\n    } else if (i === 2 && j === 1) {\r\n      return true;\r\n    } else if (i === 3 && j === 1) {\r\n      return true;\r\n    } else if (i === 3 && j === 2) {\r\n      return true;\r\n    } else if (i === 3 && j === 3) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const selectedfunc = (i, j) => {\r\n    if (getSeatsId) {\r\n      for (let item of [...new Set(getSeatsId)]) {\r\n        if (+item === i * column + j + 1) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  for (let i = 0; i < row; i++) {\r\n    seats[i] = [];\r\n    for (let j = 0; j < column; j++) {\r\n      seats[i][j] = (\r\n        <Seat\r\n          id={i * column + j + 1}\r\n          key={i * column + j + 1}\r\n          occupeid={occupeidfunc(i, j)}\r\n          selected={selectedfunc(i, j)}\r\n          onclick={onclickHandel}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {seats.map((row, i) => (\r\n        <div className='row' key={i}>\r\n          {row.map((column, j) => column)}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Seats;\r\n","import React, { useContext } from 'react';\r\nimport SeatContext from '../contex/seatContext';\r\n\r\nconst Total = () => {\r\n  const { seatsId, selectedMovie, movies, seatsNum } = useContext(SeatContext);\r\n  let price;\r\n  if (selectedMovie !== null) {\r\n    price = +selectedMovie.price;\r\n  } else {\r\n    price = +movies[0].price;\r\n  }\r\n  return (\r\n    <div className='info'>\r\n      <p>\r\n        You have selected <span>{seatsId ? seatsId.length : 0}</span> seats for\r\n        a price of $<span>{seatsNum * price}</span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Total;\r\n","import React from 'react';\nimport SelectList from './components/SelectList';\nimport Help from './components/Help';\nimport Screen from './components/Screen';\nimport Seats from './components/Seats';\nimport Total from './components/Total';\n\nfunction App() {\n  return (\n    <>\n      <SelectList />\n      <Help />\n      <div className='container'>\n        <Screen />\n        <Seats />\n      </div>\n      <Total />\n    </>\n  );\n}\n\nexport default App;\n","export const ADD_SEAT = 'ADD_SEAT';\r\nexport const REMOVE_SEAT = 'REMOVE_SEAT';\r\nexport const GET_DATA = 'GET_DATA';\r\n","import { ADD_SEAT, REMOVE_SEAT, GET_DATA } from './types';\r\n\r\nconst seatReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ADD_SEAT:\r\n      let updateSeatsId = JSON.parse(localStorage.getItem('seatsId'));\r\n      if (updateSeatsId.length > 0) {\r\n        updateSeatsId = [...state.seatsId, action.payload];\r\n      } else {\r\n        updateSeatsId = [action.payload];\r\n      }\r\n      localStorage.setItem('seatsId', JSON.stringify(updateSeatsId));\r\n      return {\r\n        ...state,\r\n        seatsId: updateSeatsId,\r\n        seatsNum: state.seatsNum + 1,\r\n      };\r\n    case REMOVE_SEAT:\r\n      let updatedseatsId = JSON.parse(localStorage.getItem('seatsId'));\r\n      const filterdSeatsId =\r\n        updatedseatsId !== null\r\n          ? updatedseatsId.filter((item) => item !== action.payload)\r\n          : [];\r\n      localStorage.setItem('seatsId', JSON.stringify(filterdSeatsId));\r\n      return {\r\n        ...state,\r\n        seatsId: updatedseatsId,\r\n        seatsNum: state.seatsNum - 1,\r\n      };\r\n\r\n    case GET_DATA:\r\n      let getSeatsId = JSON.parse(localStorage.getItem('seatsId'));\r\n      let getSelectedMovie;\r\n      if (getSelectedMovie === null) {\r\n        getSelectedMovie = {\r\n          index: 0,\r\n          price: state.movies[0].price,\r\n        };\r\n      } else {\r\n        getSelectedMovie = JSON.parse(localStorage.getItem('selectedMovie'));\r\n      }\r\n      if (getSeatsId === null) {\r\n        getSeatsId = [];\r\n        localStorage.setItem('seatsId', JSON.stringify([]));\r\n      } else {\r\n        getSeatsId = JSON.parse(localStorage.getItem('seatsId'));\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        selectedMovie: getSelectedMovie,\r\n        seatsId: getSeatsId,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default seatReducer;\r\n","import React, { useReducer } from 'react';\r\n\r\nimport SeatContext from './seatContext';\r\nimport seatReducer from './seatReducer';\r\nimport { ADD_SEAT, REMOVE_SEAT, GET_DATA } from './types';\r\n\r\nconst SeatState = ({ children }) => {\r\n  const initialState = {\r\n    movies: [\r\n      { id: 0, name: 'Interstaller', price: 10 },\r\n      { id: 1, name: 'Scare Face', price: 15 },\r\n      { id: 2, name: 'Good Fellas', price: 8 },\r\n      { id: 3, name: 'God Father', price: 20 },\r\n    ],\r\n    seatsId: [],\r\n    seatsNum: 0,\r\n    selectedMovie: {},\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(seatReducer, initialState);\r\n\r\n  const addSeat = (id) => {\r\n    dispatch({ type: ADD_SEAT, payload: id });\r\n  };\r\n  const removeSeat = (id) => {\r\n    dispatch({ type: REMOVE_SEAT, payload: id });\r\n  };\r\n\r\n  const saveMovie = (movie) => {\r\n    localStorage.setItem('selectedMovie', JSON.stringify(movie));\r\n  };\r\n\r\n  const getData = () => {\r\n    dispatch({ type: GET_DATA });\r\n  };\r\n\r\n  return (\r\n    <SeatContext.Provider\r\n      value={{\r\n        movies: state.movies,\r\n        selectedMovie: state.selectedMovie,\r\n        seatsId: state.seatsId,\r\n        seatsNum: state.seatsNum,\r\n        addSeat,\r\n        removeSeat,\r\n        saveMovie,\r\n        getData,\r\n      }}>\r\n      {children}\r\n    </SeatContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SeatState;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport SeatState from './contex/SeatState';\n\nReactDOM.render(\n  <React.StrictMode>\n    <SeatState>\n      <App />\n    </SeatState>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}